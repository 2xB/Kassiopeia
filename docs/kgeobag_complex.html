<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Complex Shapes in KGeoBag &mdash; Kassiopeia 3.8 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Understanding Simulation Output" href="output.html" />
    <link rel="prev" title="Basic Shapes in KGeoBag" href="kgeobag_basic.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #343131" >
            <a href="index.html" class="icon icon-home"> Kassiopeia
            <img src="_static/KassiopeiaLogo_1_cropped_bb.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_documentation.html">References, Citation and Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiling.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples and Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Your Own Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="kgeobag_basic.html">Basic KGeoBag Shapes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Complex KGeoBag Shapes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#surfaces">Surfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pump-port-surface">Pump Port Surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conic-section-pump-port-surface">Conic Section Pump Port Surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beam-surface">Beam Surface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multi-cut-surfaces">Multi-cut surfaces</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rod-surface">Rod Surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extruded-surfaces-with-holes">Extruded Surfaces with holes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotated-surface">Rotated Surface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#spaces">Spaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pump-port-space">Pump Port Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#conic-section-pump-port-space">Conic Section Pump Port Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#beam-space">Beam Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rod-space">Rod Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extruded-space">Extruded Space</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotated-space">Rotated Space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shapes-from-imported-files">Shapes from imported files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stl-file-surface">STL File Surface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stl-file-space">STL File Space</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="output.html">Understanding Simulation Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Additional Simulation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization Techniques</a></li>
<li class="toctree-l1"><a class="reference internal" href="bindings.html">XML Bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #343131" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Kassiopeia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Complex Shapes in KGeoBag</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/kgeobag_complex.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="complex-shapes-in-kgeobag">
<span id="complex-kgeobag-label"></span><h1>Complex Shapes in KGeoBag<a class="headerlink" href="#complex-shapes-in-kgeobag" title="Permalink to this heading"><span>#</span></a></h1>
<p>This section describes the more complicated shapes available in <em>KGeoBag</em>. Since as of yet, <em>KGeoBag</em> lacks the ability
to perform boolean operations on solids (constructive solid geometry), shapes which cannot be represented as an assembly
of basic shapes must be explicitly defined in C++. However, to augment the basic shapes, <em>KGeoBag</em> provides some
additional complex shapes that are commonly encountered in experimental structures such as vacuum chambers, etc.</p>
<p>Some of the examples in this section make use of the the more advanced features of the XML parser, including loops,
conditional statements, and equation evaluation.</p>
<nav class="contents local" id="on-this-page">
<p class="topic-title">On this page</p>
<ul class="simple">
<li><p><a class="reference internal" href="#surfaces" id="id1">Surfaces</a></p>
<ul>
<li><p><a class="reference internal" href="#pump-port-surface" id="id2">Pump Port Surface</a></p></li>
<li><p><a class="reference internal" href="#conic-section-pump-port-surface" id="id3">Conic Section Pump Port Surface</a></p></li>
<li><p><a class="reference internal" href="#beam-surface" id="id4">Beam Surface</a></p></li>
<li><p><a class="reference internal" href="#rod-surface" id="id5">Rod Surface</a></p></li>
<li><p><a class="reference internal" href="#extruded-surfaces-with-holes" id="id6">Extruded Surfaces with holes</a></p></li>
<li><p><a class="reference internal" href="#rotated-surface" id="id7">Rotated Surface</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#spaces" id="id8">Spaces</a></p>
<ul>
<li><p><a class="reference internal" href="#pump-port-space" id="id9">Pump Port Space</a></p></li>
<li><p><a class="reference internal" href="#conic-section-pump-port-space" id="id10">Conic Section Pump Port Space</a></p></li>
<li><p><a class="reference internal" href="#beam-space" id="id11">Beam Space</a></p></li>
<li><p><a class="reference internal" href="#rod-space" id="id12">Rod Space</a></p></li>
<li><p><a class="reference internal" href="#extruded-space" id="id13">Extruded Space</a></p></li>
<li><p><a class="reference internal" href="#rotated-space" id="id14">Rotated Space</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#shapes-from-imported-files" id="id15">Shapes from imported files</a></p>
<ul>
<li><p><a class="reference internal" href="#stl-file-surface" id="id16">STL File Surface</a></p></li>
<li><p><a class="reference internal" href="#stl-file-space" id="id17">STL File Space</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="surfaces">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Surfaces</a><a class="headerlink" href="#surfaces" title="Permalink to this heading"><span>#</span></a></h2>
<section id="pump-port-surface">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Pump Port Surface</a><a class="headerlink" href="#pump-port-surface" title="Permalink to this heading"><span>#</span></a></h3>
<p>The shape creates a tube-like surface with circular or rectangular pump ports (e.g. for vacuum chambers). The
coordinates (x,y,z) are the end points of the ports. The ports can only be created in radial direction.</p>
<a class="reference internal image-reference" href="_images/kgeobag_port_housing_surface_model.png"><img alt="_images/kgeobag_port_housing_surface_model.png" src="_images/kgeobag_port_housing_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;port_housing_surface</span> <span class="na">name=</span><span class="s">&quot;example_port_housing_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;port_housing</span> <span class="na">x1=</span><span class="s">&quot;0.&quot;</span> <span class="na">y1=</span><span class="s">&quot;0.&quot;</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;0.&quot;</span> <span class="na">y2=</span><span class="s">&quot;0.&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.4&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;50&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;circular_port</span> <span class="na">x=</span><span class="s">&quot;1.5&quot;</span> <span class="na">y=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z=</span><span class="s">&quot;-.3&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.33&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;rectangular_port</span> <span class="na">x=</span><span class="s">&quot;0.&quot;</span> <span class="na">y=</span><span class="s">&quot;1.&quot;</span> <span class="na">z=</span><span class="s">&quot;.3&quot;</span> <span class="na">length=</span><span class="s">&quot;0.3&quot;</span> <span class="na">width=</span><span class="s">&quot;.15&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circular_port</span> <span class="na">x=</span><span class="s">&quot;-1./sqrt(2.)&quot;</span> <span class="na">y=</span><span class="s">&quot;-1./sqrt(2.)&quot;</span> <span class="na">z=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.053&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/port_housing&gt;</span>
<span class="nt">&lt;/port_housing_surface&gt;</span>
</pre></div>
</div>
</section>
<section id="conic-section-pump-port-surface">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Conic Section Pump Port Surface</a><a class="headerlink" href="#conic-section-pump-port-surface" title="Permalink to this heading"><span>#</span></a></h3>
<p>This shape is a cut cone surface with circular ports. The ports can be created either orthogonal to the surface or
parallel to the cone axis (paraxial). The coordinates (x,y,z) are the end points of the port.</p>
<a class="reference internal image-reference" href="_images/kgeobag_conic_section_port_housing_surface_model.png"><img alt="_images/kgeobag_conic_section_port_housing_surface_model.png" src="_images/kgeobag_conic_section_port_housing_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;conic_section_port_housing_surface</span> <span class="na">name=</span><span class="s">&quot;example_conic_section_port_housing_surface&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;conic_section_port_housing</span> <span class="na">r1=</span><span class="s">&quot;2.75&quot;</span> <span class="na">z1=</span><span class="s">&quot;-1.79675&quot;</span> <span class="na">r2=</span><span class="s">&quot;0.25&quot;</span> <span class="na">z2=</span><span class="s">&quot;-0.067&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;100&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;offset&quot;</span> <span class="na">value=</span><span class="s">&quot;2.&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;nPorts&quot;</span> <span class="na">value=</span><span class="s">&quot;6&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;{[nPorts]-1}&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;if</span> <span class="na">condition=</span><span class="s">&quot;{([i] mod 2) eq 0}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;orthogonal_port</span> <span class="na">x=</span><span class="s">&quot;{[offset]*TMath::Cos(2.*TMath::Pi()*[i]/[nPorts])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[offset]*TMath::Sin(2.*TMath::Pi()*[i]/[nPorts])}&quot;</span> <span class="na">z=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;{.05 + .05*([i]+1)}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/if&gt;</span>
  <span class="nt">&lt;if</span> <span class="na">condition=</span><span class="s">&quot;{([i] mod 2) eq 1}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;paraxial_port</span> <span class="na">x=</span><span class="s">&quot;{[offset]*TMath::Cos(2.*TMath::Pi()*[i]/[nPorts])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[offset]*TMath::Sin(2.*TMath::Pi()*[i]/[nPorts])}&quot;</span> <span class="na">z=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;{.05 + .05*([i]+1)}&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/if&gt;</span>
<span class="nt">&lt;/loop&gt;</span>
  <span class="nt">&lt;/conic_section_port_housing&gt;</span>
<span class="nt">&lt;/conic_section_port_housing_surface&gt;</span>
</pre></div>
</div>
</section>
<section id="beam-surface">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Beam Surface</a><a class="headerlink" href="#beam-surface" title="Permalink to this heading"><span>#</span></a></h3>
<p>A beam creates a pipe which connects two polygons at each end. The polygons must have the same number of vertices but
may lie in planes which are not parallel to each other. For the description of the parameters involved see the images
below.</p>
<a class="reference internal image-reference" href="_images/beam_description.png"><img alt="_images/beam_description.png" src="_images/beam_description.png" style="width: 250pt;" /></a>
<p>In the following example, the variable <code class="docutils literal notranslate"><span class="pre">[poly]</span></code> dictates the the number of vertexes in each polygon at the ends of the
beam.</p>
<a class="reference internal image-reference" href="_images/kgeobag_beam_surface_model.png"><img alt="_images/kgeobag_beam_surface_model.png" src="_images/kgeobag_beam_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;beam_surface</span> <span class="na">name=</span><span class="s">&quot;example_beam_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beam</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;20&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;20&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;poly&quot;</span> <span class="na">value=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;radius&quot;</span> <span class="na">value=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_start_max&quot;</span> <span class="na">value=</span><span class="s">&quot;-.25&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_start_min&quot;</span> <span class="na">value=</span><span class="s">&quot;-.75&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_end_max&quot;</span> <span class="na">value=</span><span class="s">&quot;.75&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_end_min&quot;</span> <span class="na">value=</span><span class="s">&quot;.25&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;[poly]&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;start_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius]*TMath::Cos(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">y1=</span><span class="s">&quot;{[radius]*TMath::Sin(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">z1=</span><span class="s">&quot;{([z_start_max]+[z_start_min])*.5 + ([z_start_max]-[z_start_min])*TMath::Cos(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">x2=</span><span class="s">&quot;{[radius]*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span> <span class="na">y2=</span><span class="s">&quot;{[radius]*TMath::Sin(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span> <span class="na">z2=</span><span class="s">&quot;{([z_start_max]+[z_start_min])*.5 + ([z_start_max]-[z_start_min])*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;end_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius]*TMath::Cos(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">y1=</span><span class="s">&quot;{[radius]*TMath::Sin(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">z1=</span><span class="s">&quot;{([z_end_max]+[z_end_min])*.5 + ([z_end_max]-[z_end_min])*TMath::Cos(2.*TMath::Pi()*[i]/[poly])}&quot;</span> <span class="na">x2=</span><span class="s">&quot;{[radius]*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span> <span class="na">y2=</span><span class="s">&quot;{[radius]*TMath::Sin(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span> <span class="na">z2=</span><span class="s">&quot;{([z_end_max]+[z_end_min])*.5 + ([z_end_max]-[z_end_min])*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly])/[poly])}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/beam&gt;</span>
<span class="nt">&lt;/beam_surface&gt;</span>
</pre></div>
</div>
<section id="multi-cut-surfaces">
<h4>Multi-cut surfaces<a class="headerlink" href="#multi-cut-surfaces" title="Permalink to this heading"><span>#</span></a></h4>
<p>The beam shape can also be used to create more complex objects, such as a cut cone with two more cuts at both ends.</p>
<a class="reference internal image-reference" href="_images/kgeobag_multicut_surface_model.png"><img alt="_images/kgeobag_multicut_surface_model.png" src="_images/kgeobag_multicut_surface_model.png" style="width: 400pt;" /></a>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;beam_surface</span> <span class="na">name=</span><span class="s">&quot;example_multicut_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beam</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;60&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;60&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_start&quot;</span> <span class="na">value=</span><span class="s">&quot;-1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_end&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;radius_start&quot;</span> <span class="na">value=</span><span class="s">&quot;2.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;radius_end&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;phi_start&quot;</span> <span class="na">value=</span><span class="s">&quot;0.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;theta_start&quot;</span> <span class="na">value=</span><span class="s">&quot;30.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;phi_end&quot;</span> <span class="na">value=</span><span class="s">&quot;90.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;theta_end&quot;</span> <span class="na">value=</span><span class="s">&quot;30.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;poly&quot;</span> <span class="na">value=</span><span class="s">&quot;100&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;[poly]&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;start_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius_start]*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()) - sin(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()))}&quot;</span>
                            <span class="na">y1=</span><span class="s">&quot;{[radius_start]*cos([theta_start]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()) +sin(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()))}&quot;</span>
                            <span class="na">z1=</span><span class="s">&quot;{[radius_start]*sin([theta_start]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()) +sin(2.*TMath::Pi()*([i]/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()))+[z_start]}&quot;</span>
                            <span class="na">x2=</span><span class="s">&quot;{[radius_start]*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()) -sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()))}&quot;</span>
                            <span class="na">y2=</span><span class="s">&quot;{[radius_start]*cos([theta_start]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()) +sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()))}&quot;</span>
                            <span class="na">z2=</span><span class="s">&quot;{[radius_start]*sin([theta_start]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*sin([phi_start]/180.*TMath::Pi()) + sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_start]/360.))*cos([phi_start]/180.*TMath::Pi()))+[z_start]}&quot;</span>
            <span class="nt">/&gt;</span>
            <span class="nt">&lt;end_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius_end]*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()) -sin(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()))}&quot;</span>
                      <span class="na">y1=</span><span class="s">&quot;{[radius_end]*cos([theta_end]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()) + sin(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()))}&quot;</span>
                      <span class="na">z1=</span><span class="s">&quot;{[radius_end]*sin([theta_end]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()) +sin(2.*TMath::Pi()*([i]/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()))+[z_end]}&quot;</span>
                      <span class="na">x2=</span><span class="s">&quot;{[radius_end]*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()) - sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()))}&quot;</span>
                      <span class="na">y2=</span><span class="s">&quot;{[radius_end]*cos([theta_end]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()) + sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()))}&quot;</span>
                      <span class="na">z2=</span><span class="s">&quot;{[radius_end]*sin([theta_end]/180.*TMath::Pi())*(cos(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*sin([phi_end]/180.*TMath::Pi()) + sin(2.*TMath::Pi()*((([i]+1) mod [poly])/[poly]-[phi_end]/360.))*cos([phi_end]/180.*TMath::Pi()))+[z_end]}&quot;</span>
            <span class="nt">/&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/beam&gt;</span>
<span class="nt">&lt;/beam_surface&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="rod-surface">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Rod Surface</a><a class="headerlink" href="#rod-surface" title="Permalink to this heading"><span>#</span></a></h3>
<p>The rod element can be used to create a rod like structure along a series of linear segments in three dimensional space.
The rod has a circular cross section which is approximated by a polygon (governed by the <code class="docutils literal notranslate"><span class="pre">axial_mesh_count</span></code>
parameter). This shape is defined by a radius (thickness of the rod) and a piecewise linear path specified by a by a
list of in-order vertexes.</p>
<a class="reference internal image-reference" href="_images/kgeobag_rod_surface_model.png"><img alt="_images/kgeobag_rod_surface_model.png" src="_images/kgeobag_rod_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>The following XML example creates a helix shaped rod surface, as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;rod_surface</span> <span class="na">name=</span><span class="s">&quot;example_rod_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rod</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;100&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;12&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;n_turns&quot;</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;n_segments_per_turn&quot;</span> <span class="na">value=</span><span class="s">&quot;36&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;coil_radius&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;height_per_turn&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;{[n_turns]*[n_segments_per_turn]}&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;vertex</span> <span class="na">x=</span><span class="s">&quot;{[coil_radius]*TMath::Cos(2.*TMath::Pi()*([i] mod [n_segments_per_turn])/[n_segments_per_turn])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[coil_radius]*TMath::Sin(2.*TMath::Pi()*([i] mod [n_segments_per_turn])/[n_segments_per_turn])}&quot;</span> <span class="na">z=</span><span class="s">&quot;{[i]*[height_per_turn]/[n_segments_per_turn]}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/rod&gt;</span>
<span class="nt">&lt;/rod_surface&gt;</span>
</pre></div>
</div>
</section>
<section id="extruded-surfaces-with-holes">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Extruded Surfaces with holes</a><a class="headerlink" href="#extruded-surfaces-with-holes" title="Permalink to this heading"><span>#</span></a></h3>
<p>With this element it is possible to create an extruded surface (from a poly-loop like curve) with arbitrary holes in it.
The commands <code class="docutils literal notranslate"><span class="pre">&lt;inner_...&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;outer_...&gt;</span></code> define whether the extruded path will produce an outer or an inner
surface. Therefore, they define if there will be a hole in the surface and its shape.</p>
<a class="reference internal image-reference" href="_images/kgeobag_extruded_surface_model.png"><img alt="_images/kgeobag_extruded_surface_model.png" src="_images/kgeobag_extruded_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;extruded_surface</span> <span class="na">name=</span><span class="s">&quot;example_extruded_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;extruded_object</span> <span class="na">z_min=</span><span class="s">&quot;-1.&quot;</span> <span class="na">z_max=</span><span class="s">&quot;1.&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;40&quot;</span> <span class="na">longitudinal_mesh_power=</span><span class="s">&quot;2.&quot;</span> <span class="na">closed_form=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;inner_line</span> <span class="na">x1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_arc</span> <span class="na">x1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;{TMath::Sqrt(2.)}&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;-1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;-1.&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/extruded_object&gt;</span>
<span class="nt">&lt;/extruded_surface&gt;</span>
</pre></div>
</div>
</section>
<section id="rotated-surface">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Rotated Surface</a><a class="headerlink" href="#rotated-surface" title="Permalink to this heading"><span>#</span></a></h3>
<p>This shape is very similar to rotated poly-line surface in <a class="reference internal" href="kgeobag_basic.html#basic-kgeobag-label"><span class="std std-ref">Basic Shapes in KGeoBag</span></a> but with other variables. The
coordinates in use in this shape are cylindrical. (z,r)</p>
<a class="reference internal image-reference" href="_images/kgeobag_rotated_surface_model.png"><img alt="_images/kgeobag_rotated_surface_model.png" src="_images/kgeobag_rotated_surface_model.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with MeshViewer: Yes.</p></li>
<li><p>Works with GeometryViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;rotated_surface</span> <span class="na">name=</span><span class="s">&quot;example_rotated_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rotated_object</span> <span class="na">longitudinal_mesh_count_start=</span><span class="s">&quot;10&quot;</span> <span class="na">longitudinal_mesh_count_end=</span><span class="s">&quot;20&quot;</span> <span class="na">longitudinal_mesh_power=</span><span class="s">&quot;2.&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;0.&quot;</span> <span class="na">z2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;0.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;0.&quot;</span> <span class="na">r1=</span><span class="s">&quot;.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;arc</span> <span class="na">z1=</span><span class="s">&quot;1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;.5&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.&quot;</span> <span class="na">z2=</span><span class="s">&quot;2.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;arc</span> <span class="na">z1=</span><span class="s">&quot;2.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;2.&quot;</span> <span class="na">radius=</span><span class="s">&quot;2&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/rotated_object&gt;</span>
<span class="nt">&lt;/rotated_surface&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="spaces">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Spaces</a><a class="headerlink" href="#spaces" title="Permalink to this heading"><span>#</span></a></h2>
<p>These elements generate volume (filled) objects. The for the following geometries is not supported at the moment. For
the definition of the variables see the corresponding surfaces above.</p>
<section id="pump-port-space">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Pump Port Space</a><a class="headerlink" href="#pump-port-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization, see the above pump port surface.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;port_housing_space</span> <span class="na">name=</span><span class="s">&quot;example_port_housing_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;port_housing</span> <span class="na">x1=</span><span class="s">&quot;0.&quot;</span> <span class="na">y1=</span><span class="s">&quot;0.&quot;</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;0.&quot;</span> <span class="na">y2=</span><span class="s">&quot;0.&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.4&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;50&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;50&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;circular_port</span> <span class="na">x=</span><span class="s">&quot;1.5&quot;</span> <span class="na">y=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z=</span><span class="s">&quot;-.3&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.33&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;rectangular_port</span> <span class="na">x=</span><span class="s">&quot;0.&quot;</span> <span class="na">y=</span><span class="s">&quot;1.&quot;</span> <span class="na">z=</span><span class="s">&quot;.3&quot;</span> <span class="na">length=</span><span class="s">&quot;0.3&quot;</span> <span class="na">width=</span><span class="s">&quot;.15&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;circular_port</span> <span class="na">x=</span><span class="s">&quot;-1./sqrt(2.)&quot;</span> <span class="na">y=</span><span class="s">&quot;-1./sqrt(2.)&quot;</span> <span class="na">z=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;0.053&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/port_housing&gt;</span>
<span class="nt">&lt;/port_housing_space&gt;</span>
</pre></div>
</div>
</section>
<section id="conic-section-pump-port-space">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Conic Section Pump Port Space</a><a class="headerlink" href="#conic-section-pump-port-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization, see the above conic section pump port surface.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;conic_section_port_housing_space</span> <span class="na">name=</span><span class="s">&quot;example_conic_section_port_housing_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;conic_section_port_housing</span> <span class="na">r1=</span><span class="s">&quot;2.75&quot;</span> <span class="na">z1=</span><span class="s">&quot;-1.79675&quot;</span> <span class="na">r2=</span><span class="s">&quot;0.25&quot;</span> <span class="na">z2=</span><span class="s">&quot;-0.067&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;100&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;offset_&quot;</span> <span class="na">value=</span><span class="s">&quot;2.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;nPorts_&quot;</span> <span class="na">value=</span><span class="s">&quot;6&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;{[nPorts_]-1}&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">condition=</span><span class="s">&quot;{([i] mod 2) eq 0}&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;orthogonal_port</span> <span class="na">x=</span><span class="s">&quot;{[offset_]*TMath::Cos(2.*TMath::Pi()*[i]/[nPorts_])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[offset_]*TMath::Sin(2.*TMath::Pi()*[i]/[nPorts_])}&quot;</span> <span class="na">z=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;{.05 + .05*([i]+1)}&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/if&gt;</span>
            <span class="nt">&lt;if</span> <span class="na">condition=</span><span class="s">&quot;{([i] mod 2) eq 1}&quot;</span><span class="nt">&gt;</span>
                <span class="nt">&lt;paraxial_port</span> <span class="na">x=</span><span class="s">&quot;{[offset_]*TMath::Cos(2.*TMath::Pi()*[i]/[nPorts_])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[offset_]*TMath::Sin(2.*TMath::Pi()*[i]/[nPorts_])}&quot;</span> <span class="na">z=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;{.05 + .05*([i]+1)}&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/if&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/conic_section_port_housing&gt;</span>
<span class="nt">&lt;/conic_section_port_housing_space&gt;</span>
</pre></div>
</div>
</section>
<section id="beam-space">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Beam Space</a><a class="headerlink" href="#beam-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization, see the beam surface above.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;beam_space</span> <span class="na">name=</span><span class="s">&quot;example_beam_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;beam</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;20&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;20&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;poly_&quot;</span> <span class="na">value=</span><span class="s">&quot;50&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;radius_&quot;</span> <span class="na">value=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_start_max_&quot;</span> <span class="na">value=</span><span class="s">&quot;-.25&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_start_min_&quot;</span> <span class="na">value=</span><span class="s">&quot;-.75&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_end_max_&quot;</span> <span class="na">value=</span><span class="s">&quot;.75&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;z_end_min_&quot;</span> <span class="na">value=</span><span class="s">&quot;.25&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;[poly_]&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;start_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius_]*TMath::Cos(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">y1=</span><span class="s">&quot;{[radius_]*TMath::Sin(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">z1=</span><span class="s">&quot;{([z_start_max_]+[z_start_min_])*.5 + ([z_start_max_]-[z_start_min_])*TMath::Cos(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">x2=</span><span class="s">&quot;{[radius_]*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span> <span class="na">y2=</span><span class="s">&quot;{[radius_]*TMath::Sin(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span> <span class="na">z2=</span><span class="s">&quot;{([z_start_max_]+[z_start_min_])*.5 + ([z_start_max_]-[z_start_min_])*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;end_line</span> <span class="na">x1=</span><span class="s">&quot;{[radius_]*TMath::Cos(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">y1=</span><span class="s">&quot;{[radius_]*TMath::Sin(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">z1=</span><span class="s">&quot;{([z_end_max_]+[z_end_min_])*.5 + ([z_end_max_]-[z_end_min_])*TMath::Cos(2.*TMath::Pi()*[i]/[poly_])}&quot;</span> <span class="na">x2=</span><span class="s">&quot;{[radius_]*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span> <span class="na">y2=</span><span class="s">&quot;{[radius_]*TMath::Sin(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span> <span class="na">z2=</span><span class="s">&quot;{([z_end_max_]+[z_end_min_])*.5 + ([z_end_max_]-[z_end_min_])*TMath::Cos(2.*TMath::Pi()*(([i]+1) mod [poly_])/[poly_])}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/beam&gt;</span>
<span class="nt">&lt;/beam_space&gt;</span>
</pre></div>
</div>
</section>
<section id="rod-space">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Rod Space</a><a class="headerlink" href="#rod-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization, see the above rod surface.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;rod_space</span> <span class="na">name=</span><span class="s">&quot;example_rod_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rod</span> <span class="na">radius=</span><span class="s">&quot;0.2&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;100&quot;</span> <span class="na">axial_mesh_count=</span><span class="s">&quot;12&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;n_turns_&quot;</span> <span class="na">value=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;n_segments_per_turn_&quot;</span> <span class="na">value=</span><span class="s">&quot;36&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;coil_radius_&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;define</span> <span class="na">name=</span><span class="s">&quot;height_per_turn_&quot;</span> <span class="na">value=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;loop</span> <span class="na">variable=</span><span class="s">&quot;i&quot;</span> <span class="na">start=</span><span class="s">&quot;0&quot;</span> <span class="na">end=</span><span class="s">&quot;{[n_turns_]*[n_segments_per_turn_]}&quot;</span> <span class="na">step=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;vertex</span> <span class="na">x=</span><span class="s">&quot;{[coil_radius_]*TMath::Cos(2.*TMath::Pi()*([i] mod [n_segments_per_turn_])/[n_segments_per_turn_])}&quot;</span> <span class="na">y=</span><span class="s">&quot;{[coil_radius_]*TMath::Sin(2.*TMath::Pi()*([i] mod [n_segments_per_turn_])/[n_segments_per_turn_])}&quot;</span> <span class="na">z=</span><span class="s">&quot;{[i]*[height_per_turn_]/[n_segments_per_turn_]}&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/loop&gt;</span>
    <span class="nt">&lt;/rod&gt;</span>
<span class="nt">&lt;/rod_space&gt;</span>
</pre></div>
</div>
</section>
<section id="extruded-space">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Extruded Space</a><a class="headerlink" href="#extruded-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization see the above extruded space.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;extruded_space</span> <span class="na">name=</span><span class="s">&quot;example_extruded_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;extruded_object</span> <span class="na">z_min=</span><span class="s">&quot;-1.&quot;</span> <span class="na">z_max=</span><span class="s">&quot;1.&quot;</span> <span class="na">longitudinal_mesh_count=</span><span class="s">&quot;40&quot;</span> <span class="na">longitudinal_mesh_power=</span><span class="s">&quot;2.&quot;</span> <span class="na">closed_form=</span><span class="s">&quot;1&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;inner_line</span> <span class="na">x1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;inner_arc</span> <span class="na">x1=</span><span class="s">&quot;.5&quot;</span> <span class="na">y1=</span><span class="s">&quot;-.5&quot;</span> <span class="na">x2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">y2=</span><span class="s">&quot;-.5&quot;</span> <span class="na">radius=</span><span class="s">&quot;1.&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_arc</span> <span class="na">x1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;{TMath::Sqrt(2.)}&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;-1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;outer_line</span> <span class="na">x1=</span><span class="s">&quot;1.&quot;</span> <span class="na">y1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">x2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">y2=</span><span class="s">&quot;-1.&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/extruded_object&gt;</span>
<span class="nt">&lt;/extruded_space&gt;</span>
</pre></div>
</div>
</section>
<section id="rotated-space">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Rotated Space</a><a class="headerlink" href="#rotated-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization see the above rotated surface.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: No.</p></li>
<li><p>Works with MeshViewer: No.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;rotated_space</span> <span class="na">name=</span><span class="s">&quot;example_rotated_space&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;rotated_object</span> <span class="na">longitudinal_mesh_count_start=</span><span class="s">&quot;10&quot;</span> <span class="na">longitudinal_mesh_count_end=</span><span class="s">&quot;20&quot;</span> <span class="na">longitudinal_mesh_power=</span><span class="s">&quot;2.&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;0.&quot;</span> <span class="na">z2=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;-1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;0.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;0.&quot;</span> <span class="na">r1=</span><span class="s">&quot;.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;.5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;arc</span> <span class="na">z1=</span><span class="s">&quot;1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;.5&quot;</span> <span class="na">z2=</span><span class="s">&quot;1.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.&quot;</span> <span class="na">radius=</span><span class="s">&quot;.5&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;line</span> <span class="na">z1=</span><span class="s">&quot;1.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.&quot;</span> <span class="na">z2=</span><span class="s">&quot;2.&quot;</span> <span class="na">r2=</span><span class="s">&quot;1.&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;arc</span> <span class="na">z1=</span><span class="s">&quot;2.&quot;</span> <span class="na">r1=</span><span class="s">&quot;1.&quot;</span> <span class="na">z2=</span><span class="s">&quot;0.&quot;</span> <span class="na">r2=</span><span class="s">&quot;2.&quot;</span> <span class="na">radius=</span><span class="s">&quot;2&quot;</span> <span class="na">positive_orientation=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/rotated_object&gt;</span>
<span class="nt">&lt;/rotated_space&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="shapes-from-imported-files">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Shapes from imported files</a><a class="headerlink" href="#shapes-from-imported-files" title="Permalink to this heading"><span>#</span></a></h2>
<p>As an alternative to defining geometries via the XML file format, one may also use geometric objects from external
files. The only available file format is STL, which is supported by the majority of current 3D design software. The
STL file contains a set of triangles, which are treated as a fully meshed geometry in <em>KGeoBag</em>. As such, the geometry
is usable with <em>KEMField</em> (for electric field calculation) and <em>Kassiopeia</em> (for particle navigation.)</p>
<section id="stl-file-surface">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">STL File Surface</a><a class="headerlink" href="#stl-file-surface" title="Permalink to this heading"><span>#</span></a></h3>
<a class="reference internal image-reference" href="_images/kgeobag_teapot_mesh.png"><img alt="_images/kgeobag_teapot_mesh.png" src="_images/kgeobag_teapot_mesh.png" style="width: 400pt;" /></a>
<ul class="simple">
<li><p>Works with GeometryViewer: Yes.</p></li>
<li><p>Works with MeshViewer: Yes.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;stl_file_surface</span> <span class="na">name=</span><span class="s">&quot;cube_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stl_file</span> <span class="na">file=</span><span class="s">&quot;Menger_sponge.stl&quot;</span> <span class="na">scale=</span><span class="s">&quot;0.5&quot;</span> <span class="na">mesh_count=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/stl_file_surface&gt;</span>

<span class="nt">&lt;stl_file_surface</span> <span class="na">name=</span><span class="s">&quot;teapot_lid&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stl_file</span> <span class="na">file=</span><span class="s">&quot;Utah_teapot.stl&quot;</span> <span class="na">selector=</span><span class="s">&quot;-2267&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/stl_file_surface&gt;</span>

<span class="nt">&lt;stl_file_surface</span> <span class="na">name=</span><span class="s">&quot;teapot_solid_body&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stl_file</span> <span class="na">file=</span><span class="s">&quot;Utah_teapot.stl&quot;</span> <span class="na">selector=</span><span class="s">&quot;2268-&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/stl_file_surface&gt;</span>
</pre></div>
</div>
<p>Note that because the geometry is defined by an external file, the possible modifications in the <em>KGeoBag</em> framework
are limited. Besides the translations/rotations that can be applied to any object, one may also scale the external
geometry or increase its number of mesh elements. If the triangles in the file are sufficienctly ordered, then one
can use the <code class="docutils literal notranslate"><span class="pre">selector</span></code> attribute to specify indices of the triangles to be used in <em>KGeoBag</em>. In the case of the
<code class="docutils literal notranslate"><span class="pre">Utah_teapot.stl</span></code> example file, this allows to split the lid from the pot’s body.</p>
</section>
<section id="stl-file-space">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">STL File Space</a><a class="headerlink" href="#stl-file-space" title="Permalink to this heading"><span>#</span></a></h3>
<p>For visualization see the above STL file surface.</p>
<ul class="simple">
<li><p>Works with GeometryViewer: Yes.</p></li>
<li><p>Works with MeshViewer: Yes.</p></li>
</ul>
<p>An XML example is as follows:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;stl_file_space</span> <span class="na">name=</span><span class="s">&quot;cube_surface&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;stl_file</span> <span class="na">file=</span><span class="s">&quot;Menger_sponge.stl&quot;</span> <span class="na">scale=</span><span class="s">&quot;0.5&quot;</span> <span class="na">mesh_count=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/stl_file_space&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="kgeobag_basic.html" class="btn btn-neutral float-left" title="Basic Shapes in KGeoBag" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="output.html" class="btn btn-neutral float-right" title="Understanding Simulation Output" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2022, The Kassiopeia developers..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>